 <!-- Сайдбар із кімнатами -->
<template x-if="accessToken">
  <div class="sidebar p-4 bg-gray-50 border-r border-gray-200 overflow-y-auto">
    <h2 class="text-xl font-bold mb-4">Rooms</h2>
    <div class="room-list space-y-1 px-4">
  <template x-for="room in rooms" :key="room.roomId">
    <li class="flex items-center justify-between cursor-pointer rounded-lg p-2 hover:bg-indigo-50"
        :class="{ 'bg-indigo-100 font-medium': room.roomId === roomId }"
        @click="switchRoom(room.roomId)">
      
      <!-- Назва кімнати -->
      <span x-text="room.name || room.roomId" class="flex-1 truncate"></span>

      <!-- Кнопка видалення -->
      <button @click.stop="leaveRoom(room.roomId)"
              class="ml-2 text-red-500 hover:text-red-700 text-xs font-medium">
        × Видалити
      </button>
    </li>
  </template>
  <template x-if="accessToken && roomId">
  <div class="mt-6 p-4 bg-gray-100 rounded-lg">
    <h3 class="text-sm font-semibold text-gray-700 mb-2">Учасники кімнати</h3>
    <template x-if="roomMembers.length === 0">
      <p class="text-xs text-gray-500">Завантаження...</p>
    </template>
    <ul class="text-xs space-y-1">
      <template x-for="member in roomMembers" :key="member.userId">
        <li class="flex items-center justify-between">
          <div>
            <span class="font-medium" x-text="member.displayName"></span>
            <span class="text-gray-500" x-text="'(' + member.userId.split(':')[0].substring(1) + ')'"></span>
          </div>
          <!-- Кнопка видалення юзера (kick) -->
          <button 
            @click.stop="kickUser(member.userId)"
            class="text-red-600 hover:text-red-800 text-xs font-bold ml-2"
            title="Викинути з кімнати">
            ×
          </button>
        </li>
      </template>
    </ul>
  </div>
</template>
</div>
    </ul>
    <div class="mt-4">
      <input x-model="newRoomName" placeholder="New room name" class="border p-2 w-full mb-2 rounded">
      <button @click="createRoom()" class="bg-indigo-500 text-white p-2 w-full rounded hover:bg-indigo-600 transition">Create Room</button>
      <p x-show="newRoomId" class="text-sm text-gray-600 mt-1">Room ID: <span x-text="newRoomId"></span></p>
    </div>
  </div>
</template>